# ============================================================================
# Huawei Cloud DeepSeek API Configuration (Competition)
# ============================================================================

# Huawei Cloud API Endpoint (Fixed for competition)
HUAWEI_API_URL=https://pangu.ap-southeast-1.myhuaweicloud.com/api/v2/chat/completions

# Your Huawei Cloud API Key (X-Auth-Token)
# Replace with one of your competition API keys:
# Option 1: aaa94bd0-57d4-4581-8418-c999f0f6fec7_D88DC983C7E963504635650DE1B0025F82B1749F15284E6F78BFAFD40CC0B8F8
# Option 2: c1d8d97e-6333-4416-b02e-cac54271e94e_EA9F627E708C3D904BB6955D8969197A2B7B339E9ED3AD77AE12CC869F997706
HUAWEI_API_KEY=your_huawei_api_key_here

# Model Selection
# Choose one of the following models:
# - deepseek-r1-distil-qwen-32b_raziqt (32B parameters - More powerful, better for complex reasoning, slower)
# - distill-llama-8b_46e6iu (8B parameters - Faster, lighter, good for simpler tasks)
HUAWEI_MODEL_NAME=deepseek-r1-distil-qwen-32b_raziqt

# ============================================================================
# Monitoring Services Configuration
# ============================================================================

# Prometheus URL (for metrics collection)
PROMETHEUS_URL=http://prometheus:9090

# Loki URL (for log aggregation)
LOKI_URL=http://loki:3100

# ============================================================================
# Analysis Configuration
# ============================================================================

# Time window for fetching metrics and logs (in minutes)
TIME_WINDOW_MINUTES=15

# Maximum number of log lines to fetch per query
MAX_LOG_LINES=500

# Maximum number of metric data points to fetch
MAX_METRICS_POINTS=100

# ============================================================================
# LLM Configuration
# ============================================================================

# Request timeout in seconds (increased for large models)
# The 32B model can be slow, so 180s is recommended
# For the 8B model, you can reduce this to 60-90s
LLM_TIMEOUT=180

# Temperature controls randomness (0.1 = precise, 0.8 = creative)
# For incident analysis, use lower values (0.1-0.3) for more deterministic results
LLM_TEMPERATURE=0.3

# Maximum tokens to generate in the response
LLM_MAX_TOKENS=2000

# Top-p (nucleus sampling) - only consider tokens with cumulative probability >= top_p
LLM_TOP_P=0.9

# Top-k - limit sampling to the top K most probable tokens
LLM_TOP_K=40

# Number of retries for failed LLM API calls
LLM_MAX_RETRIES=3

# ============================================================================
# API Server Configuration
# ============================================================================

# Host and port for the FastAPI server
API_HOST=0.0.0.0
API_PORT=8000

# ============================================================================
# Optional: Notification Configuration
# ============================================================================

# Slack webhook URL for sending notifications (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Generic webhook URL for custom notifications (optional)
# GENERIC_WEBHOOK_URL=https://your-webhook-endpoint.com/alerts

# ============================================================================
# Notes
# ============================================================================
# 
# 1. This API is exclusively for the Huawei developer competition
# 2. The service is stateless and does not record user data
# 3. The service will only be available during the competition period
# 4. Due to large model size, invocation time may be long
# 5. Consider using the 8B model (distill-llama-8b_46e6iu) for faster responses
# 6. For production-like performance, use streaming mode (not yet implemented)
#
# For more information, refer to:
# - DeepSeek API docs: https://api-docs.deepseek.com/
# - Huawei Cloud ModelArts: https://support.huaweicloud.com/intl/en-us/api-pangulm/
# ============================================================================

